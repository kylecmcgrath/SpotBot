\hypertarget{task__motor_8h}{}\doxysection{src/task\+\_\+motor.h File Reference}
\label{task__motor_8h}\index{src/task\_motor.h@{src/task\_motor.h}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{task__motor_8h_abc2f6086b45e84f90853d92e86926836}\label{task__motor_8h_abc2f6086b45e84f90853d92e86926836}} 
void {\bfseries update\+\_\+pos} ()
\begin{DoxyCompactList}\small\item\em ISR that updates encoder count when there is a change in encoder digital\+Read value. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{task__motor_8h_aa5e85a29ea6967e65c3765aaf9cbf0f7}{task\+\_\+motor}} (void $\ast$p\+\_\+params)
\begin{DoxyCompactList}\small\item\em Task motor interfaces with other tasks shares to turn on and off motor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This is the header for the task motor file

\begin{DoxyAuthor}{Author}
Christian Clephan 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{task__motor_8h_aa5e85a29ea6967e65c3765aaf9cbf0f7}\label{task__motor_8h_aa5e85a29ea6967e65c3765aaf9cbf0f7}} 
\index{task\_motor.h@{task\_motor.h}!task\_motor@{task\_motor}}
\index{task\_motor@{task\_motor}!task\_motor.h@{task\_motor.h}}
\doxysubsubsection{\texorpdfstring{task\_motor()}{task\_motor()}}
{\footnotesize\ttfamily void task\+\_\+motor (\begin{DoxyParamCaption}\item[{void $\ast$}]{p\+\_\+params }\end{DoxyParamCaption})}



Task motor interfaces with other tasks shares to turn on and off motor. 

First the pins for the encoder are set and the ISRs are set to run when digital\+READ of either pin OUTA or OUTB is changed. Next, the state machine is run starting at checking if a spot is needed, and if so spinning the motor and transitioning states. In the next state the encoder is used to track motor position to if the barbell has been pulled enough to reach the safety rack. 